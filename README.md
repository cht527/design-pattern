# javascript-Pattern
说明 javascript设计模式用例

整个项目是 《JavaScript 设计模式》 一书的代码实践。

## lesson01-func-to-obj

> 从函数到对象

本节课围绕实现一个验证用户输入的用户名、邮箱、密码的功能，从函数逐渐到对象，使用了多种不同方式去实现，并总结了各种方式的特点。

* 01：函数式编程实现
    * 缺点：全局函数污染全局变量空间（函数也是变量）
* 02：用对象字面量给对象添加方法
    * 对象式定义
    * 点语法调用
    * 缺点：无法复用和继承（即无法用new关键字复制出一个相同的对象）
* 03：使用点语法来给对象添加方法
    * 同上，只不过定义时使用函数，添加方法时使用对象语法；
* 04：用函数方法返回包装对象
    * 调用方法：先利用函数返回一个对象，再调用该对象的方法
    * 缺点：返回的对象与定义的对象没有关联【无法同步】
* 05：使用类的方式：构造函数（使用this赋值）
    * 使用 this定义成员方法；
    * 使用 new 创建新对象
    * 缺点：每次实例化都会对this上的属性进行复制，消耗大
* 06：使用类的方式：构造函数（使用原型赋值）
    * 使用原型赋值，避免类的共用属性和方法被重复实例化赋值，减少性能开销
    * 缺点：每一个方法都要写一次prototype,太多重复
* 07：使用类的方式：构造函数（使用原型对象赋值）
    * 不用每个方法都写prototype,只需要写一次，以原型对象的方式一次性赋值；
    * 缺点：会重写类的prototype属性，导致 constructor 属性丢失
* 08：使用类的方式：构造函数（使用原型对象赋值）--实现链式调用
    * 每个方法都返回 this （即实例对象自身）来实现链式调用

## lesson02-opp

> 面向对象编程基础

* 01：类的属性与方法封装
    * 私有属性：在类内部使用 var 关键字定义，外界访问不到
    * 私有方法：在类内部定义的 function ，外界访问不到
    * 对象公有属性：通过 this 关键字创建的属性，外界可以通过点语法访问到；
    * 对象公有方法：通过 this 关键字创建的方法，外界可以通过点语法访问到；
    * 特权方法： 通过 this 关键字创建的方法，并且以set和get为前缀的方法，方法可以访问私有属性，外界可通过它获得或修改私有属性；
    * 构造器：在初始化实例时利用特权方法为一些私有属性进行初始赋值；
    * 类的静态共有属性：在类外部通过点语法定义的属性，新创建的对象中无法获取它，可以通过类的点语法获取
    * 类的静态共有方法：在类外部通过点语法定义的方法，新创建的对象中无法获取它，可以获得类的点语法获取
    * 公有属性：通过prototype对象添加的属性，所有实例都可以通过原型链访问，并且拿到相同的值
    * 公有方法：通过prototype对象添加的方法，所有实例都可以通过原型链访问，并且只有一份，不会重复创建。
* 02：利用闭包实现类的静态变量
    * 利用闭包添加类的静态私有属性和静态私有方法
    * 缺点：在闭包外部利用原型添加静态公有属性和方法，从形式上看似脱离了闭包这个类
* 03：在闭包内部实现一个完整的类
    * 这样实现，类的定义和与原型添加静态公有属性和方法都在同一个闭包内，更像一个整体
* 04：创建对象的安全模式
    * 利用 instanceof 方法类判断是否使用 new 关键字
    * 可以保证忘记写 new 的时候也能正常实例化对象
* 05：类式继承
    * 将父类的实例赋值给子类的原型
    * 如果父类中的共有属性是引用类型，则子类的一个实例更改该继承过来的共有属性，就会直接影响到其他子类实例
    * 实例化父类时无法对父类构造函数进行初始化
* 06：构造函数继承
    * 利用call来更改子类执行环境为父类，利用绑定的this，子类继承了父类的共有属性。
    * 使用此种方法，继承没有涉及子类的原型，所以父类的原型方法自然不会被子类继承。
    * 如果想被子类继承就必须要放在构造函数中
    * 每个实例都会单独拥有一份，不能共有，违背了代码复用原则。
* 07：组合继承
    * 综合两种继承方式的优点，过滤掉缺点
    * 缺点：父类构造函数执行了两遍
* 08：原型继承
    * 利用过渡对象的原型继承其他对象来生成新的对象
    * 缺点：由于是类式继承的封装，父类对象中的值类型属性被复制，引用类型的属性被共用
* 09：寄生式继承
    * 利用原型继承方法，new 一个新对象
    * 对新对象进行拓展，可以为新对象添加自己私有的方法和属性
    * 返回新对象
    * 由于是对原型继承的二次封装，所以具有一样的缺点
* 10：寄生组合式继承
    * 是寄生继承与构造函数继承的组合方式
    * 在构造函数继承中调用父类的构造函数
    * 在寄生方法中将父类原型的一个副本赋值给子类的原型，并且修正因为重写子类原型而导致子类的constractor属性被修改的问题
    * 缺点：子类再想添加原型方法必须通过 prototype 对象的点语法形式添加
* 11：单继承
    * 利用 for...in 将源对象属性复制到目标对象上
    * 这种方法只能进行浅复制
* 12：多继承  
    * 利用函数的 arguments 对象 和 for循环，进行多个对象的继承（属性复制）
    * 将该方法绑定到对象原型上,这样所有对象就可以直接拥有此方法
* 13：多态
    * 多态，就是同一个方法多种调用方式
    * 也是通过判断 arguments对象的长度，不同长度执行不同方法来实现
